# 微信公众号网页授权配置说明

## 问题说明
当前遇到的错误：`redirect_uri域名与后台配置不一致，错误码10003`

这个错误表示微信授权的回调域名没有在微信公众平台后台正确配置。

## 解决方案

### 1. 登录微信公众平台
访问：https://mp.weixin.qq.com/
使用您的微信公众号账号登录

### 2. 配置授权回调域名
1. 在左侧菜单中找到 **开发** → **接口权限**
2. 找到 **网页授权** 功能
3. 点击 **修改** 按钮
4. 在 **授权回调页面域名** 中添加：`aimorelogy.github.io`

**重要注意事项：**
- 域名不需要加 `http://` 或 `https://` 前缀
- 不需要加端口号
- 不需要加路径
- 只填写纯域名：`aimorelogy.github.io`

### 3. 验证域名所有权
微信可能要求您验证域名所有权：
1. 下载验证文件（通常是一个txt文件）
2. 将验证文件上传到您的网站根目录
3. 确保可以通过 `https://aimorelogy.github.io/验证文件名.txt` 访问

### 4. 配置完成后
- 配置生效可能需要几分钟时间
- 建议等待5-10分钟后再测试
- 如果还有问题，可以尝试清除浏览器缓存

## 当前代码配置
项目中已经将redirect_uri配置为：
```
https://aimorelogy.github.io/wechat-callback.html
```

这个配置与您需要在微信后台填写的域名 `aimorelogy.github.io` 是匹配的。

## 测试步骤
1. 完成微信后台配置
2. 等待配置生效（5-10分钟）
3. 访问 `test-login.html` 页面测试登录功能
4. 扫描二维码或点击直接授权按钮
5. 如果配置正确，应该能正常跳转到授权页面

## 常见问题
1. **域名配置错误**：确保只填写域名，不要包含协议、端口或路径
2. **配置未生效**：等待几分钟让配置生效
3. **验证文件问题**：确保验证文件可以正常访问
4. **HTTPS要求**：微信要求回调域名必须支持HTTPS

## 联系支持
如果配置后仍有问题，可以：
1. 检查微信公众平台的开发者文档
2. 联系微信客服支持
3. 确认公众号类型是否支持网页授权功能